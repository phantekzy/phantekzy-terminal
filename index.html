<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>phantekzy | Terminal Portfolio</title>
  <link href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap" rel="stylesheet"/>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <style>
    :root {
      --bg: #000;
      --text: #33ff33;
    }
    .theme-ubuntu { --bg: #300a24; --text: #ff6600; }
    .theme-matrix { --bg: #001100; --text: #00ff00; }
    .theme-light { --bg: #f5f5f5; --text: #222; }

    body {
      margin: 0;
      height: 100vh;
      background: var(--bg);
      color: var(--text);
      font-family: 'Fira Code', monospace;
    }
    #terminal {
      box-sizing: border-box;
      padding: 20px;
      height: 100%;
      overflow-y: auto;
    }
    .line { display: flex; }
    .prompt { flex-shrink: 0; }
    #cmdline {
      background: transparent;
      border: none;
      outline: none;
      color: inherit;
      flex: 1;
      font: inherit;
    }
    @keyframes blink { 50% { opacity: 0; } }
    .cursor {
      width: 8px;
      background: var(--text);
      animation: blink .8s steps(1) infinite;
    }
    a { color: var(--text); text-decoration: underline; }
    pre.ascii {
      font-size: 10px;
      white-space: pre-wrap;
    }
  </style>
</head>
<body class="theme-matrix">
  <div id="terminal">
    <pre class="ascii">
    __                          __             __                          
       /\ \                        /\ \__         /\ \                         
 _____ \ \ \___       __       ___ \ \ ,_\     __ \ \ '\   ____    __  __    
/\ '__`\\ \  _ `\   /'__`\   /' _ `\\ \ \/   /'__`\\ \ , <  /\_ ,`\\/\ \\/\ \   
\ \ \L\ \\\ \ \ \ \\ \ \L\.\_ /\ \/\ \\\ \ \_ /\  __/ \ \ \\\`\\/_/  /_\\ \ \_\ \  
 \ \ ,__/ \ \_\ \_\\ \__/.\_\\ \_\ \_\\ \__\\ \____\ \ \_\ \_\/\____\\/`____ \ 
  \ \ \/   \/_/\/_/ \/__/\/_/ \/_/\/_/ \/__/ \/____/  \/_/\/_/\/____/ `/___/> \
   \ \_\                                                                 /\___/ 
    \/_/                                                                 \/__/  
    </pre>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const terminal = document.getElementById('terminal');
      const themes = ['matrix', 'ubuntu', 'light'];
      let history = [], histIdx = 0;

      const data = {
        about: `
## About Me

I'm **Maini Lotfi**, a passionate and detail-oriented full-stack web developer with a strong foundation in frontend and backend technologies. I specialize in building clean, efficient, and accessible web interfaces. I'm self-taught and always evolving, with aspirations to move into cybersecurity.

**Tech Interests:**
- Modern Web Development (React, Node.js, PHP)
- DevOps & Linux Systems
- Cybersecurity (learning in progress)
- Clean Code & Best Practices
        `,
        skills: `
- HTML5
- CSS3
- JavaScript
- PHP
- Node.js
- React
- MySQL
        `,
        socials: `
- <a href="https://linkedin.com/in/maini-lotfi" target="_blank">LinkedIn</a>
- <a href="https://x.com/mainilotfi" target="_blank">X / Twitter</a>
- <a href="https://youtube.com/@phantekzy" target="_blank">YouTube</a>
- <a href="mailto:mainilotfi@gmail.com">mainilotfi@gmail.com</a>
        `,
        goals: `
- Build modern full-stack applications
- Master backend frameworks and secure coding
- Switch into cybersecurity
- Contribute to open source projects
        `
      };

      const commands = {
        help() {
          print(`about | skills | projects | goals | theme [name] | socials | clear | exit`);
        },
        about() {
          print(marked.parse(data.about));
        },
        skills() {
          print(marked.parse(data.skills));
        },
        socials() {
          print(data.socials);
        },
        goals() {
          print(marked.parse(data.goals));
        },
        theme(args) {
          const name = args[1];
          if (themes.includes(name)) {
            document.body.className = 'theme-' + name;
            print(`Theme set to ${name}`);
          } else {
            print(`Available themes: ${themes.join(', ')}`);
          }
        },
        projects: async () => {
          print(`Fetching repositories from GitHubâ€¦`);
          try {
            const res = await fetch('https://api.github.com/users/phantekzy/repos?sort=updated');
            const repos = await res.json();
            if (!Array.isArray(repos)) throw new Error('Bad response');
            const md = repos.map(r =>
              `- [${r.name}](${r.html_url}): ${r.description || 'No description'}`
            ).join('\n');
            print(marked.parse(md));
          } catch (e) {
            print(`Error fetching projects: ${e.message}`);
          }
        },
        clear() {
          terminal.innerHTML = '';
        },
        exit() {
          print(`Goodbye!`);
        }
      };

      function print(html = '') {
        const div = document.createElement('div');
        div.innerHTML = html;
        terminal.appendChild(div);
        terminal.scrollTop = terminal.scrollHeight;
      }

      function newPrompt() {
        const line = document.createElement('div');
        line.className = 'line';
        const prompt = document.createElement('span');
        prompt.className = 'prompt';
        prompt.textContent = '[phantekzy@portfolio ~]$ ';
        const input = document.createElement('input');
        input.id = 'cmdline';
        input.autocomplete = 'off';
        line.append(prompt, input);
        terminal.append(line);
        input.focus();
        addListeners(input);
        terminal.scrollTop = terminal.scrollHeight;
      }

      function addListeners(input) {
        input.addEventListener('keydown', e => {
          if (e.key === 'Enter') {
            const cmd = input.value.trim();
            history.push(cmd);
            histIdx = history.length;
            input.disabled = true;
            execute(cmd);
          } else if (e.key === 'ArrowUp') {
            if (histIdx > 0) input.value = history[--histIdx] || '';
          } else if (e.key === 'ArrowDown') {
            if (histIdx < history.length - 1) input.value = history[++histIdx] || '';
            else input.value = '';
          } else if (e.key === 'Tab') {
            e.preventDefault();
            autocomplete(input);
          }
        });
      }

      function autocomplete(input) {
        const val = input.value;
        const matches = Object.keys(commands).filter(c => c.startsWith(val));
        if (matches.length === 1) input.value = matches[0] + ' ';
      }

      function execute(input) {
        if (!input) return newPrompt();
        const args = input.split(' ');
        const cmd = args[0];
        (commands[cmd] || (() => print(`command not found: ${cmd}`)))(args);
        if (cmd !== 'exit') newPrompt();
      }

      print(`<pre>Welcome to phantekzy's terminal portfolio. Type <code>help</code> to get started.</pre>`);
      newPrompt();
    });
  </script>
</body>
</html>
